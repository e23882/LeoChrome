<controls:MetroWindow x:Class="MahAppBase.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:avalondock="http://schemas.xceed.com/wpf/xaml/avalondock"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions" 
        mc:Ignorable="d" Title="" Height="600" Width="{Binding MainWindowWidth, Mode=TwoWay}" x:Name="mwMain" WindowState="{Binding State}">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Closed">
            <i:InvokeCommandAction Command="{Binding MainWindowClosed}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <controls:MetroWindow.Resources>
        <Style TargetType="avalondock:DockingManager" x:Key="DetailRotation" >
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=WebMargin}" Value="0,0,0,0">
                    <DataTrigger.EnterActions>
                        <StopStoryboard BeginStoryboardName="EndAnimation" />
                        <BeginStoryboard Name="NewAnimation">
                            <Storyboard>
                                <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,0,0,0" To="400,0,0,0" Duration="0:0:3" />
                            </Storyboard>
                        </BeginStoryboard>
                    </DataTrigger.EnterActions>
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=WebMargin}" Value="400,0,0,0">
                    <DataTrigger.EnterActions>
                        <StopStoryboard BeginStoryboardName="NewAnimation" />
                        <BeginStoryboard Name="EndAnimation">
                            <Storyboard>
                                <ThicknessAnimation Storyboard.TargetProperty="Margin" From="400,0,0,0" To="0,0,0,0" Duration="0:0:3"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </DataTrigger.EnterActions>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </controls:MetroWindow.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <avalondock:DockingManager x:Name="mtTab" Grid.Row="0" Visibility="{Binding Render}" Margin="{Binding WebMargin}" >
            <avalondock:DockingManager.Theme>
                <avalondock:MetroTheme/>
            </avalondock:DockingManager.Theme>
            <avalondock:LayoutRoot>
                <avalondock:LayoutPanel>
                    <avalondock:LayoutDocumentPane x:Name="MainGroup"/>
                </avalondock:LayoutPanel>
                <!--<avalondock:LayoutRoot.BottomSide>
                    <avalondock:LayoutAnchorSide>
                        <avalondock:LayoutAnchorGroup>
                            <avalondock:LayoutAnchorable Title="ErrorList" ContentId="t1">
                                <Grid>
                                    <TextBox TextWrapping="Wrap" AcceptsReturn="False" Text="{Binding ErrorMessage}"  VerticalScrollBarVisibility="Visible" ></TextBox>
                                </Grid>
                            </avalondock:LayoutAnchorable>
                        </avalondock:LayoutAnchorGroup>
                    </avalondock:LayoutAnchorSide>
                </avalondock:LayoutRoot.BottomSide>-->
            </avalondock:LayoutRoot>
        </avalondock:DockingManager>
        <Button  Grid.Row="0" Style="{DynamicResource MetroCircleButtonStyle}" Width="35" Height="35" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,0,20,0">
            <iconPacks:PackIconModern Width="10" Height="10" Kind="Add" />
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="Click">
                    <i:InvokeCommandAction Command="{Binding ButtonNewTabClick}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </Button>
     
    </Grid>
</controls:MetroWindow>
